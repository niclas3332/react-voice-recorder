(this["webpackJsonpreact-voice-recorder-example"]=this["webpackJsonpreact-voice-recorder-example"]||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},12:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);n(12);var a=n(1),i=n.n(a),o=n(10),r=n.n(o),s=n(3),c=n(4),u=n(6),l=n(5),d=n(2),h=n(8),m=n(7),v="_3bC73",f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={time:{},miliseconds:0,recording:!1,medianotFound:!1,audios:[],audioBlob:null,stream:null},a.timer=0,a.startTimer=a.startTimer.bind(Object(d.a)(a)),a.countDown=a.countDown.bind(Object(d.a)(a)),a}return Object(c.a)(n,[{key:"handleAudioPause",value:function(e){e.preventDefault(),clearInterval(this.timer),this.mediaRecorder.pause(),this.setState({pauseRecord:!0})}},{key:"handleAudioStart",value:function(e){e.preventDefault(),this.startTimer(),this.mediaRecorder.resume(),this.setState({pauseRecord:!1})}},{key:"startTimer",value:function(){this.timer=setInterval(this.countDown,100)}},{key:"countDown",value:function(){var e=this;this.setState((function(t){var n=t.miliseconds+100;return{time:e.milisecondsToTime(n),miliseconds:n}})),this.props.handleCountDown(this.state.time)}},{key:"milisecondsToTime",value:function(e){var t=e/1e3,n=t%3600,a=n%60;return{h:Math.floor(t/3600),m:Math.floor(n/60),s:Math.ceil(a),ms:e}}},{key:"initRecorder",value:function(){try{var e=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var t=function(){if(navigator.mediaDevices)return Promise.resolve(navigator.mediaDevices.getUserMedia({audio:!0})).then((function(t){e.props.mimeTypeToUseWhenRecording?e.mediaRecorder=new MediaRecorder(t,{mimeType:e.props.mimeTypeToUseWhenRecording}):e.mediaRecorder=new MediaRecorder(t),e.chunks=[],e.mediaRecorder.ondataavailable=function(t){t.data&&t.data.size>0&&e.chunks.push(t.data)},e.stream=t}));e.setState({medianotFound:!0}),console.log("Media Decives will work only with SSL.....")}();return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(n){return Promise.reject(n)}}},{key:"startRecording",value:function(e){try{var t=this;return e.preventDefault(),t.chunks=[],Promise.resolve(t.initRecorder()).then((function(){t.mediaRecorder.start(10),t.startTimer(),t.setState({recording:!0})}))}catch(e){return Promise.reject(e)}}},{key:"stopRecording",value:function(e){try{if(clearInterval(this.timer),this.setState({time:{}}),e.preventDefault(),this.stream.getAudioTracks)this.stream.getAudioTracks().forEach((function(e){e.stop()}));else console.log("No Tracks Found");return this.mediaRecorder.stop(),this.setState({recording:!1,pauseRecord:!1}),this.saveAudio(),Promise.resolve()}catch(e){return Promise.reject(e)}}},{key:"handleReset",value:function(e){var t=this;this.state.recording&&this.stopRecording(e),this.setState({time:{},miliseconds:0,recording:!1,medianotFound:!1,audios:[],audioBlob:null},(function(){t.props.handleReset(t.state)}))}},{key:"saveAudio",value:function(){var e=new Blob(this.chunks,{type:"audio/*"}),t=window.URL.createObjectURL(e),n=[t];this.setState({audios:n,audioBlob:e}),this.props.handleAudioStop({url:t,blob:e,chunks:this.chunks,duration:this.state.time}),console.log("Save Audio")}},{key:"render",value:function(){var e=this,t=this,n=this.state,a=n.recording,o=(n.audios,n.time,n.medianotFound);n.pauseRecord;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",null,o?i.a.createElement("p",{style:{color:"#fff",marginTop:30,fontSize:25}},"Seems the site is Non-SSL"):i.a.createElement("div",{className:v},a?i.a.createElement("div",null,i.a.createElement("button",{className:"cancel-button",title:"Upload recording",onClick:function(e){try{return Promise.resolve(t.stopRecording(e)).then((function(){setTimeout((function(){t.props.handleAudioUpload(t.state.audioBlob)}),100)}))}catch(e){return Promise.reject(e)}}},i.a.createElement(h.a,{icon:m.b})),i.a.createElement("button",{className:"cancel-button",title:"Cancel recording",onClick:function(t){return e.handleReset(t)}},i.a.createElement(h.a,{icon:m.c}))):i.a.createElement("button",{className:"cancel-button",title:"Cancel recording",onClick:function(t){return e.startRecording(t)}},i.a.createElement(h.a,{icon:m.a}))))))}}]),n}(a.Component);f.defaultProps={hideHeader:!1,mimeTypeToUseWhenRecording:null,handleCountDown:function(e){}};n(19);var p=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={audioDetails:{url:null,blob:null,chunks:null,duration:{h:0,m:0,s:0}}},a}return Object(c.a)(n,[{key:"handleAudioStop",value:function(e){console.log(e),this.setState({audioDetails:e})}},{key:"handleAudioUpload",value:function(e){console.log(e)}},{key:"handleReset",value:function(){this.setState({audioDetails:{url:null,blob:null,chunks:null,duration:{h:0,m:0,s:0}}})}},{key:"render",value:function(){var e=this;return i.a.createElement(f,{record:!0,title:"New recording",audioURL:this.state.audioDetails.url,disableFullUI:!0,handleAudioStop:function(t){return e.handleAudioStop(t)},handleAudioUpload:function(t){return e.handleAudioUpload(t)},handleReset:function(){return e.handleReset()}})}}]),n}(i.a.Component);r.a.render(i.a.createElement(p,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ef9adf78.chunk.js.map